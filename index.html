<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumera Social - Production Ready dApp</title>
    <meta name="description" content="Decentralized social platform powered by AI on Lumera Protocol. Post, earn, and connect with the Web3 community.">
    <meta name="keywords" content="Lumera, Web3, Social, DeFi, AI, Blockchain, Cosmos">
    <meta property="og:title" content="Lumera Social - Decentralized Social Platform">
    <meta property="og:description" content="Experience the future of social media with AI-powered content verification and token rewards.">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%230ea5e9'/><text x='50' y='60' text-anchor='middle' font-size='40' fill='white'>L</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Animate.css for advanced animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        * { font-family: 'Inter', sans-serif; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #0ea5e9; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #0284c7; }
        
        /* Loading animation */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(14, 165, 233, 0.3); }
            50% { box-shadow: 0 0 30px rgba(14, 165, 233, 0.6); }
        }
        
        .pulse-glow { animation: pulse-glow 2s infinite; }
        
        /* Gradient text animation */
        @keyframes gradient-x {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .gradient-animate {
            background: linear-gradient(-45deg, #0ea5e9, #8b5cf6, #ec4899, #06b6d4);
            background-size: 400% 400%;
            animation: gradient-x 3s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Glass morphism effect */
        .glass {
            background: rgba(17, 24, 39, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Hover effects */
        .hover-lift { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .hover-lift:hover { transform: translateY(-4px) scale(1.02); }
        
        /* Custom button styles */
        .btn-primary {
            background: linear-gradient(135deg, #0ea5e9, #0284c7);
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            box-shadow: 0 8px 25px rgba(14, 165, 233, 0.5);
            transform: translateY(-2px);
        }
        
        /* Network status indicator */
        .network-pulse::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #10b981, #3b82f6);
            z-index: -1;
            animation: pulse 2s infinite;
        }
        
        /* Post animations */
        .post-enter {
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Advanced loading states */
        .skeleton {
            background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Success animations */
        .success-bounce {
            animation: successBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes successBounce {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-padding { padding-left: 1rem; padding-right: 1rem; }
            .mobile-text { font-size: 0.875rem; }
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'lumera': {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white min-h-screen font-inter">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-gray-900 z-50 flex items-center justify-center">
        <div class="text-center animate__animated animate__fadeIn">
            <div class="w-16 h-16 bg-gradient-to-r from-lumera-500 to-lumera-600 rounded-2xl flex items-center justify-center mb-4 pulse-glow animate-bounce">
                <i class="fas fa-share-nodes text-white text-2xl"></i>
            </div>
            <h2 class="text-2xl font-bold gradient-animate mb-2">Lumera Social</h2>
            <p class="text-gray-400">Initializing Web3 Social Platform...</p>
            <div class="mt-4 flex justify-center">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-lumera-500"></div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 shadow-2xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-gradient-to-br from-lumera-400 to-lumera-600 rounded-xl flex items-center justify-center shadow-lg hover-lift cursor-pointer">
                        <i class="fas fa-share-nodes text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold gradient-animate">
                            Lumera Social
                        </h1>
                    </div>
                </div>
                
                <div class="flex items-center space-x-6">
                    <!-- Network Status -->
                    <div class="hidden md:flex items-center space-x-3">
                        <div class="relative">
                            <div id="networkStatus" class="w-3 h-3 bg-green-400 rounded-full network-pulse"></div>
                        </div>
                        <div class="text-sm">
                            <p class="text-gray-300">Lumera Testnet</p>
                            <p id="blockHeight" class="text-xs text-gray-500">Block: Loading...</p>
                        </div>
                    </div>
                    
                    <!-- Connect Wallet Button -->
                    <button id="connectWallet" class="btn-primary px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 transform hover:scale-105 transition-all duration-200">
                        <i class="fas fa-wallet"></i>
                        <span>Connect Keplr</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="fixed top-20 right-4 z-50 space-y-2"></div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Wallet Status -->
        <div id="walletStatus" class="hidden mb-8 glass rounded-2xl p-6 border border-gray-700 animate__animated animate__fadeInDown">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-4 h-4 bg-green-400 rounded-full animate-pulse shadow-lg"></div>
                    <div>
                        <p class="text-sm text-gray-400">Wallet Connected</p>
                        <p id="walletAddress" class="text-lumera-400 font-mono text-lg font-semibold"></p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-400">Available Balance</p>
                    <p class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-lumera-400 to-green-400">
                        <span id="lumeBalance">0.00</span> LUME
                    </p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-4 gap-8">
            <!-- Left Sidebar -->
            <div class="xl:col-span-1">
                <!-- Platform Analytics -->
                <div class="glass rounded-2xl p-6 mb-6 border border-gray-700 hover-lift">
                    <h3 class="text-xl font-bold mb-6 flex items-center">
                        <i class="fas fa-chart-line text-lumera-400 mr-3"></i>
                        Live Analytics
                    </h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-file-alt text-blue-400"></i>
                                <span class="text-gray-300">Total Posts</span>
                            </div>
                            <span class="text-xl font-bold text-white" id="totalPosts">1,247</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-users text-green-400"></i>
                                <span class="text-gray-300">Active Users</span>
                            </div>
                            <span class="text-xl font-bold text-white" id="activeUsers">3,459</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-coins text-yellow-400"></i>
                                <span class="text-gray-300">LUME Rewarded</span>
                            </div>
                            <span class="text-xl font-bold text-lumera-400" id="totalRewards">127,890</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-shield-check text-green-400"></i>
                                <span class="text-gray-300">AI Verified</span>
                            </div>
                            <span class="text-xl font-bold text-green-400">98.7%</span>
                        </div>
                    </div>
                </div>

                <!-- Trending Topics -->
                <div class="glass rounded-2xl p-6 border border-gray-700 hover-lift">
                    <h3 class="text-xl font-bold mb-6 flex items-center">
                        <i class="fas fa-fire text-orange-400 mr-3"></i>
                        Trending Now
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-xl cursor-pointer transition-all duration-200 hover-lift">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">#</span>
                                <div>
                                    <p class="font-semibold text-white">LumeraAI</p>
                                    <p class="text-xs text-gray-400">Trending in Technology</p>
                                </div>
                            </div>
                            <span class="text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full">2.1K</span>
                        </div>
                        <div class="flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-xl cursor-pointer transition-all duration-200 hover-lift">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">#</span>
                                <div>
                                    <p class="font-semibold text-white">DeFiLife</p>
                                    <p class="text-xs text-gray-400">Trending in Finance</p>
                                </div>
                            </div>
                            <span class="text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full">1.8K</span>
                        </div>
                        <div class="flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-xl cursor-pointer transition-all duration-200 hover-lift">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">#</span>
                                <div>
                                    <p class="font-semibold text-white">CosmosDev</p>
                                    <p class="text-xs text-gray-400">Trending in Development</p>
                                </div>
                            </div>
                            <span class="text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full">956</span>
                        </div>
                        <div class="flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-xl cursor-pointer transition-all duration-200 hover-lift">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">#</span>
                                <div>
                                    <p class="font-semibold text-white">Web3Social</p>
                                    <p class="text-xs text-gray-400">Trending in Social</p>
                                </div>
                            </div>
                            <span class="text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full">743</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Feed -->
            <div class="xl:col-span-3">
                <!-- Create Post -->
                <div class="glass rounded-2xl p-6 mb-8 border border-gray-700 hover-lift">
                    <div class="flex items-start space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-lumera-400 to-lumera-600 rounded-2xl flex items-center justify-center shadow-xl">
                            <i class="fas fa-user text-white text-xl"></i>
                        </div>
                        <div class="flex-1">
                            <textarea 
                                id="postContent" 
                                placeholder="Share your thoughts with the Lumera community..." 
                                class="w-full bg-gray-800/50 border border-gray-600 rounded-2xl p-6 text-white placeholder-gray-400 resize-none focus:outline-none focus:border-lumera-400 focus:ring-2 focus:ring-lumera-400/30 transition-all duration-300 text-lg leading-relaxed"
                                rows="4"
                                maxlength="500"
                            ></textarea>
                            <div class="flex items-center justify-between mt-6">
                                <div class="flex items-center space-x-6">
                                    <label class="flex items-center space-x-2 cursor-pointer hover:text-lumera-400 transition-colors p-2 rounded-lg hover:bg-gray-800/50">
                                        <input type="file" class="hidden" accept="image/*" id="imageUpload">
                                        <i class="fas fa-image text-xl"></i>
                                        <span class="font-medium">Media</span>
                                    </label>
                                    <div class="flex items-center space-x-2 text-green-400">
                                        <i class="fas fa-shield-check"></i>
                                        <span class="font-medium">AI Verification Ready</span>
                                    </div>
                                    <div class="text-sm text-gray-500">
                                        <span id="charCount">0</span>/500
                                    </div>
                                </div>
                                <button id="publishPost" class="btn-primary px-8 py-3 rounded-2xl font-bold flex items-center space-x-3 transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <i class="fas fa-paper-plane"></i>
                                    <span>Publish</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Posts Feed -->
                <div id="postsFeed" class="space-y-6">
                    <!-- Loading skeleton posts -->
                    <div id="loadingSkeleton" class="space-y-6">
                        <div class="glass rounded-2xl p-6 border border-gray-700">
                            <div class="flex items-start space-x-4">
                                <div class="w-14 h-14 rounded-2xl skeleton"></div>
                                <div class="flex-1 space-y-3">
                                    <div class="h-4 skeleton rounded w-1/3"></div>
                                    <div class="h-4 skeleton rounded w-full"></div>
                                    <div class="h-4 skeleton rounded w-2/3"></div>
                                </div>
                            </div>
                        </div>
                        <div class="glass rounded-2xl p-6 border border-gray-700">
                            <div class="flex items-start space-x-4">
                                <div class="w-14 h-14 rounded-2xl skeleton"></div>
                                <div class="flex-1 space-y-3">
                                    <div class="h-4 skeleton rounded w-1/4"></div>
                                    <div class="h-4 skeleton rounded w-full"></div>
                                    <div class="h-4 skeleton rounded w-3/4"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-8">
                    <button id="loadMoreBtn" class="hidden bg-gray-800 hover:bg-gray-700 px-8 py-3 rounded-2xl font-medium transition-all duration-200 border border-gray-600 hover:border-lumera-400">
                        <i class="fas fa-arrow-down mr-2"></i>
                        Load More Posts
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="glass border-t border-gray-700 py-12 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="lg:col-span-2">
                    <div class="flex items-center space-x-4 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-lumera-400 to-lumera-600 rounded-xl flex items-center justify-center">
                            <i class="fas fa-share-nodes text-white text-xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold gradient-animate">Lumera Social</h3>
                    </div>
                    <p class="text-gray-400 text-lg leading-relaxed mb-6">
                        The future of decentralized social media. Built on Lumera Protocol with AI-powered content verification, 
                        token rewards, and true ownership of your data.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-gray-800 hover:bg-lumera-500 rounded-lg flex items-center justify-center transition-all duration-200">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 hover:bg-lumera-500 rounded-lg flex items-center justify-center transition-all duration-200">
                            <i class="fab fa-discord"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 hover:bg-lumera-500 rounded-lg flex items-center justify-center transition-all duration-200">
                            <i class="fab fa-telegram"></i>
                        </a>
                        <a href="https://github.com/LumeraProtocol" class="w-10 h-10 bg-gray-800 hover:bg-lumera-500 rounded-lg flex items-center justify-center transition-all duration-200">
                            <i class="fab fa-github"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-6">Platform</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="#" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-shield-check mr-2"></i>AI Content Verification</a></li>
                        <li><a href="#" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-coins mr-2"></i>Token Rewards</a></li>
                        <li><a href="#" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-database mr-2"></i>Decentralized Storage</a></li>
                        <li><a href="#" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-link mr-2"></i>Cross-chain Integration</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-6">Resources</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="https://lumera.io" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-globe mr-2"></i>Lumera Protocol</a></li>
                        <li><a href="https://faucet-lumera.winnode.xyz/" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-faucet mr-2"></i>Testnet Faucet</a></li>
                        <li><a href="https://testnet.lumera.exploreme.pro/" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-search mr-2"></i>Block Explorer</a></li>
                        <li><a href="https://docs.keplr.app/" class="hover:text-lumera-400 transition-colors flex items-center"><i class="fas fa-wallet mr-2"></i>Keplr Wallet</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-gray-400 mb-4 md:mb-0">
                        <p>&copy; 2025 Lumera Social. Production Ready dApp for Lumera Protocol.</p>
                    </div>
                    <div class="flex items-center space-x-6 text-sm">
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                            <span class="text-green-400 font-medium">lumera-testnet-2</span>
                        </div>
                        <span class="text-gray-500">•</span>
                        <span class="text-gray-400">RPC: linknode.org</span>
                        <span class="text-gray-500">•</span>
                        <span class="text-gray-400">Built with ❤️ for Web3</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Production-ready JavaScript
        class LumeraSocial {
            constructor() {
                this.connectedAccount = null;
                this.isConnecting = false;
                this.posts = [];
                this.isLoading = false;
                
                // Network configuration
                this.networkConfig = {
                    chainId: "lumera-testnet-2",
                    chainName: "Lumera Testnet",
                    rpc: "https://lumera-testnet-rpc.linknode.org/",
                    rest: "https://lumera-testnet-api.linknode.org/",
                    bip44: { coinType: 118 },
                    bech32Config: {
                        bech32PrefixAccAddr: "lumera",
                        bech32PrefixAccPub: "lumerapub",
                        bech32PrefixValAddr: "lumeravaloper",
                        bech32PrefixValPub: "lumeravaloperpub",
                        bech32PrefixConsAddr: "lumeravalcons",
                        bech32PrefixConsPub: "lumeravalconspub",
                    },
                    currencies: [{
                        coinDenom: "LUME",
                        coinMinimalDenom: "ulume",
                        coinDecimals: 6,
                    }],
                    feeCurrencies: [{
                        coinDenom: "LUME",
                        coinMinimalDenom: "ulume",
                        coinDecimals: 6,
                        gasPriceStep: { low: 0.01, average: 0.025, high: 0.03 },
                    }],
                    stakeCurrency: {
                        coinDenom: "LUME",
                        coinMinimalDenom: "ulume",
                        coinDecimals: 6,
                    },
                };
                
                this.init();
            }
            
            // Initialize the application
            async init() {
                this.setupEventListeners();
                this.startLoadingAnimation();
                
                await this.delay(2000); // Simulate loading
                this.hideLoadingScreen();
                this.loadSamplePosts();
                this.startNetworkMonitoring();
                this.startStatsUpdater();
            }
            
            // Setup event listeners
            setupEventListeners() {
                // Connect wallet button
                document.getElementById('connectWallet').addEventListener('click', () => this.connectWallet());
                
                // Publish post button
                document.getElementById('publishPost').addEventListener('click', () => this.publishPost());
                
                // Post content character counter
                const postContent = document.getElementById('postContent');
                postContent.addEventListener('input', (e) => {
                    const charCount = e.target.value.length;
                    document.getElementById('charCount').textContent = charCount;
                    
                    // Change color based on character count
                    const charCountEl = document.getElementById('charCount');
                    if (charCount > 450) {
                        charCountEl.className = 'text-red-400';
                    } else if (charCount > 400) {
                        charCountEl.className = 'text-yellow-400';
                    } else {
                        charCountEl.className = 'text-gray-500';
                    }
                });
                
                // Keyboard shortcuts
                postContent.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                        e.preventDefault();
                        this.publishPost();
                    }
                });
                
                // Image upload
                document.getElementById('imageUpload').addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.showToast(`Image "${file.name}" ready for upload`, 'success');
                    }
                });
                
                // Load more posts
                document.getElementById('loadMoreBtn').addEventListener('click', () => this.loadMorePosts());
                
                // Delegate event listeners for dynamic content
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.like-btn')) {
                        this.likePost(e.target.closest('.like-btn'));
                    }
                    if (e.target.closest('.tip-btn')) {
                        this.tipPost(e.target.closest('.tip-btn'));
                    }
                    if (e.target.closest('.share-btn')) {
                        this.sharePost(e.target.closest('.share-btn'));
                    }
                });
                
                // Keplr account change detection
                window.addEventListener('keplr_keystorechange', () => this.handleWalletChange());
            }
            
            // Start loading animation
            startLoadingAnimation() {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.style.display = 'flex';
            }
            
            // Hide loading screen with animation
            hideLoadingScreen() {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.classList.add('animate__fadeOut');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 500);
            }
            
            // Utility function for delays
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            
            // Show toast notifications
            showToast(message, type = 'info', duration = 5000) {
                const container = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = `glass p-4 rounded-xl shadow-2xl max-w-sm transition-all duration-300 transform translate-x-full animate__animated animate__slideInRight`;
                
                const bgColors = {
                    success: 'border-green-500/50 bg-green-900/20',
                    error: 'border-red-500/50 bg-red-900/20',
                    info: 'border-blue-500/50 bg-blue-900/20',
                    warning: 'border-yellow-500/50 bg-yellow-900/20'
                };
                
                const icons = {
                    success: 'fas fa-check-circle text-green-400',
                    error: 'fas fa-exclamation-circle text-red-400',
                    info: 'fas fa-info-circle text-blue-400',
                    warning: 'fas fa-exclamation-triangle text-yellow-400'
                };
                
                toast.classList.add(bgColors[type]);
                toast.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <i class="${icons[type]} text-xl mt-0.5"></i>
                        <div class="flex-1">
                            <p class="text-white font-medium">${message}</p>
                        </div>
                        <button onclick="this.parentElement.parentElement.remove()" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                container.appendChild(toast);
                
                setTimeout(() => {
                    toast.classList.remove('translate-x-full');
                }, 100);
                
                setTimeout(() => {
                    toast.classList.add('animate__slideOutRight');
                    setTimeout(() => toast.remove(), 300);
                }, duration);
            }
            
            // Connect Keplr Wallet
            async connectWallet() {
                if (this.isConnecting) return;
                
                this.isConnecting = true;
                const button = document.getElementById('connectWallet');
                const originalHTML = button.innerHTML;
                
                try {
                    if (!window.keplr) {
                        throw new Error("Keplr wallet not found. Please install Keplr extension.");
                    }
                    
                    button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Connecting...';
                    button.disabled = true;
                    
                    await window.keplr.experimentalSuggestChain(this.networkConfig);
                    await window.keplr.enable(this.networkConfig.chainId);
                    
                    const offlineSigner = window.getOfflineSigner(this.networkConfig.chainId);
                    const accounts = await offlineSigner.getAccounts();
                    
                    if (accounts.length > 0) {
                        this.connectedAccount = accounts[0];
                        this.updateWalletUI();
                        this.showToast("Wallet connected successfully! Welcome to Lumera Social", "success");
                        
                        // Simulate balance fetch
                        await this.fetchBalance();
                    }
                } catch (error) {
                    console.error("Wallet connection error:", error);
                    this.showToast(`Connection failed: ${error.message}`, "error");
                    button.innerHTML = originalHTML;
                    button.disabled = false;
                }
                
                this.isConnecting = false;
            }
            
            // Update wallet UI after connection
            updateWalletUI() {
                const statusEl = document.getElementById('walletStatus');
                const addressEl = document.getElementById('walletAddress');
                const buttonEl = document.getElementById('connectWallet');
                
                statusEl.classList.remove('hidden');
                statusEl.classList.add('animate__fadeInDown');
                
                addressEl.textContent = `${this.connectedAccount.address.slice(0, 16)}...${this.connectedAccount.address.slice(-6)}`;
                
                buttonEl.innerHTML = '<i class="fas fa-check-circle mr-2"></i>Connected';
                buttonEl.className = 'bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 transform hover:scale-105 transition-all duration-200 shadow-lg';
            }
            
            // Simulate balance fetching
            async fetchBalance() {
                const balanceEl = document.getElementById('lumeBalance');
                balanceEl.textContent = 'Loading...';
                
                await this.delay(1500);
                
                // Simulate balance update
                const balance = (Math.random() * 1000 + 100).toFixed(3);
                balanceEl.textContent = balance;
                balanceEl.classList.add('animate__animated', 'animate__fadeIn');
            }
            
            // Publish post
            async publishPost() {
                if (this.isLoading) return;
                
                const contentEl = document.getElementById('postContent');
                const content = contentEl.value.trim();
                const button = document.getElementById('publishPost');
                
                if (!content) {
                    this.showToast("Please enter some content to share", "warning");
                    contentEl.focus();
                    return;
                }
                
                if (!this.connectedAccount) {
                    this.showToast("Please connect your wallet first", "error");
                    return;
                }
                
                this.isLoading = true;
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Publishing...';
                button.disabled = true;
                
                try {
                    // Show AI verification process
                    this.showToast("AI is analyzing your content...", "info", 3000);
                    await this.delay(2000);
                    
                    this.showToast("Content verified by AI! Publishing to blockchain...", "success", 2000);
                    await this.delay(1500);
                    
                    // Create new post
                    const newPost = this.createPostData({
                        author: "You",
                        address: this.connectedAccount.address,
                        content: content,
                        timestamp: "now",
                        likes: 0,
                        shares: 0,
                        tips: 0,
                        reward: (Math.random() * 10 + 2).toFixed(1)
                    });
                    
                    this.addPostToFeed(newPost, true);
                    
                    // Clear form
                    contentEl.value = '';
                    document.getElementById('charCount').textContent = '0';
                    document.getElementById('charCount').className = 'text-gray-500';
                    
                    this.showToast(`Post published successfully! You earned ${newPost.reward} LUME tokens!`, "success", 6000);
                    
                } catch (error) {
                    console.error("Post publishing error:", error);
                    this.showToast("Failed to publish post. Please try again.", "error");
                }
                
                button.innerHTML = originalHTML;
                button.disabled = false;
                this.isLoading = false;
            }
            
            // Create post data object
            createPostData(data) {
                return {
                    id: Date.now() + Math.random(),
                    author: data.author,
                    address: data.address,
                    content: data.content,
                    timestamp: data.timestamp,
                    likes: data.likes,
                    shares: data.shares,
                    tips: data.tips || 0,
                    reward: data.reward,
                    verified: true,
                    qualityScore: Math.floor(Math.random() * 20 + 80),
                    avatar: this.generateAvatar(data.author)
                };
            }
            
            // Generate avatar based on username
            generateAvatar(username) {
                const colors = [
                    'from-purple-400 to-purple-600',
                    'from-green-400 to-green-600',
                    'from-orange-400 to-orange-600',
                    'from-blue-400 to-blue-600',
                    'from-red-400 to-red-600',
                    'from-pink-400 to-pink-600',
                    'from-indigo-400 to-indigo-600',
                    'from-yellow-400 to-yellow-600'
                ];
                
                const icons = [
                    'fa-user-astronaut', 'fa-user-ninja', 'fa-user-tie', 'fa-user-graduate',
                    'fa-rocket', 'fa-star', 'fa-crown', 'fa-gem'
                ];
                
                const colorIndex = username.length % colors.length;
                const iconIndex = (username.charCodeAt(0) + username.length) % icons.length;
                
                return {
                    gradient: colors[colorIndex],
                    icon: icons[iconIndex]
                };
            }
            
            // Add post to feed
            addPostToFeed(postData, prepend = false) {
                const postElement = this.createPostElement(postData);
                const feed = document.getElementById('postsFeed');
                
                if (prepend) {
                    feed.insertBefore(postElement, feed.firstChild);
                    postElement.classList.add('post-enter');
                } else {
                    feed.appendChild(postElement);
                }
                
                this.posts.push(postData);
            }
            
            // Create post HTML element
            createPostElement(data) {
                const postDiv = document.createElement('div');
                postDiv.className = 'glass rounded-2xl p-6 border border-gray-700 hover-lift hover:border-gray-600 transition-all duration-300';
                postDiv.dataset.postId = data.id;
                
                postDiv.innerHTML = `
                    <div class="flex items-start space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br ${data.avatar.gradient} rounded-2xl flex items-center justify-center shadow-xl">
                            <i class="fas ${data.avatar.icon} text-white text-xl"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-3">
                                <h4 class="font-bold text-lg text-white">${data.author}</h4>
                                <span class="text-sm text-gray-400 font-mono bg-gray-800/50 px-2 py-1 rounded-lg">${data.address.slice(0, 12)}...${data.address.slice(-6)}</span>
                                ${data.verified ? `
                                    <div class="flex items-center space-x-1 bg-green-900/30 px-2 py-1 rounded-full border border-green-500/30">
                                        <i class="fas fa-shield-check text-green-400 text-sm"></i>
                                        <span class="text-xs text-green-400 font-medium">AI Verified</span>
                                    </div>
                                ` : ''}
                                <span class="text-xs text-gray-500">•</span>
                                <span class="text-xs text-gray-500">${data.timestamp}</span>
                            </div>
                            <p class="text-gray-200 mb-6 text-lg leading-relaxed">${data.content}</p>
                            
                            <div class="glass rounded-xl p-4 mb-6 border border-gray-600/50">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-brain text-lumera-400"></i>
                                            <span class="text-sm text-gray-300 font-medium">AI Analysis:</span>
                                        </div>
                                        <div class="flex items-center space-x-1 bg-green-900/30 px-3 py-1 rounded-full">
                                            <i class="fas fa-check text-green-400 text-xs"></i>
                                            <span class="text-sm text-green-400 font-medium">Verified</span>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <span class="text-sm text-blue-400 font-bold">Quality Score: ${data.qualityScore}/100</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-8">
                                    <button class="flex items-center space-x-2 hover:text-red-400 transition-colors p-2 rounded-lg hover:bg-red-900/20 like-btn group">
                                        <i class="fas fa-heart text-lg group-hover:scale-110 transition-transform"></i>
                                        <span class="font-semibold">${data.likes}</span>
                                    </button>
                                    <button class="flex items-center space-x-2 hover:text-lumera-400 transition-colors p-2 rounded-lg hover:bg-lumera-900/20 share-btn group">
                                        <i class="fas fa-share text-lg group-hover:scale-110 transition-transform"></i>
                                        <span class="font-semibold">${data.shares}</span>
                                    </button>
                                    <button class="flex items-center space-x-2 hover:text-yellow-400 transition-colors p-2 rounded-lg hover:bg-yellow-900/20 tip-btn group">
                                        <i class="fas fa-coins text-lg group-hover:scale-110 transition-transform"></i>
                                        <span class="font-semibold">Tip LUME</span>
                                    </button>
                                </div>
                                <div class="flex items-center space-x-2 bg-gradient-to-r from-green-900/30 to-green-800/30 px-4 py-2 rounded-xl border border-green-500/30">
                                    <i class="fas fa-coins text-green-400"></i>
                                    <span class="text-lg font-bold text-green-400">+${data.reward} LUME</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                return postDiv;
            }
            
            // Load sample posts
            loadSamplePosts() {
                const samplePosts = [
                    {
                        author: "CosmosBuilder",
                        address: "lumera1xyz789abc456def",
                        content: "Just deployed my first smart contract on Lumera! 🚀 The AI integration possibilities are endless. The Sense feature for content verification is a complete game-changer! Building the future of Web3 one block at a time. #LumeraAI #Web3 #Innovation",
                        timestamp: "2h ago",
                        likes: 24,
                        shares: 8,
                        tips: 3,
                        reward: "2.5"
                    },
                    {
                        author: "AIEnthusiast",
                        address: "lumera1abc456def789xyz",
                        content: "The future of social media is here! Lumera's decentralized approach with AI verification ensures authenticity while rewarding quality content creators. This is exactly what Web3 social platforms should be! The combination of blockchain technology and artificial intelligence is revolutionary. 💎✨",
                        timestamp: "4h ago",
                        likes: 47,
                        shares: 15,
                        tips: 7,
                        reward: "4.7"
                    },
                    {
                        author: "DevMaster",
                        address: "lumera1def123ghi456jkl",
                        content: "Building on Lumera has been an incredible experience! The combination of Cosmos SDK flexibility with native AI modules creates endless possibilities for developers. Just launched my latest dApp demo - check it out! The developer experience is smooth and the documentation is comprehensive. 🔥⚡",
                        timestamp: "6h ago",
                        likes: 89,
                        shares: 23,
                        tips: 12,
                        reward: "8.9"
                    }
                ];
                
                // Hide loading skeleton
                document.getElementById('loadingSkeleton').style.display = 'none';
                document.getElementById('loadMoreBtn').classList.remove('hidden');
                
                samplePosts.forEach(post => {
                    const postData = this.createPostData(post);
                    this.addPostToFeed(postData);
                });
            }
            
            // Like post
            likePost(button) {
                if (!this.connectedAccount) {
                    this.showToast("Please connect your wallet to like posts", "warning");
                    return;
                }
                
                const likeCount = button.querySelector('span');
                const heart = button.querySelector('i');
                const currentLikes = parseInt(likeCount.textContent);
                
                // Animation
                heart.classList.add('animate__animated', 'animate__heartBeat', 'text-red-400');
                likeCount.textContent = currentLikes + 1;
                
                // Success feedback
                this.showToast("Post liked! Author earned 0.1 LUME reward", "success", 3000);
                
                setTimeout(() => {
                    heart.classList.remove('animate__animated', 'animate__heartBeat');
                }, 1000);
            }
            
            // Share post
            sharePost(button) {
                if (!this.connectedAccount) {
                    this.showToast("Please connect your wallet to share posts", "warning");
                    return;
                }
                
                const shareCount = button.querySelector('span');
                const shareIcon = button.querySelector('i');
                const currentShares = parseInt(shareCount.textContent);
                
                shareIcon.classList.add('animate__animated', 'animate__bounce');
                shareCount.textContent = currentShares + 1;
                
                // Simulate sharing
                if (navigator.share) {
                    navigator.share({
                        title: 'Check out this post on Lumera Social',
                        text: 'Amazing content on the decentralized social platform!',
                        url: window.location.href
                    });
                } else {
                    // Fallback to clipboard
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        this.showToast("Post link copied to clipboard!", "success");
                    });
                }
                
                setTimeout(() => {
                    shareIcon.classList.remove('animate__animated', 'animate__bounce');
                }, 1000);
            }
            
            // Tip post
            tipPost(button) {
                if (!this.connectedAccount) {
                    this.showToast("Please connect your wallet to tip creators", "warning");
                    return;
                }
                
                // Create custom tip modal
                const modal = this.createTipModal();
                document.body.appendChild(modal);
                
                modal.querySelector('.tip-confirm').addEventListener('click', () => {
                    const amount = modal.querySelector('.tip-amount').value;
                    if (amount && !isNaN(amount) && parseFloat(amount) > 0) {
                        this.processTip(amount);
                        modal.remove();
                    } else {
                        this.showToast("Please enter a valid amount", "warning");
                    }
                });
                
                modal.querySelector('.tip-cancel').addEventListener('click', () => {
                    modal.remove();
                });
            }
            
            // Create tip modal
            createTipModal() {
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 z-50 flex items-center justify-center p-4';
                modal.innerHTML = `
                    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm animate__animated animate__fadeIn"></div>
                    <div class="glass rounded-2xl p-8 max-w-md w-full border border-gray-600 animate__animated animate__zoomIn">
                        <h3 class="text-2xl font-bold mb-6 text-center gradient-animate">Tip Creator</h3>
                        <p class="text-gray-300 mb-6 text-center">Support this creator with LUME tokens</p>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-300 mb-2">Amount (LUME)</label>
                            <input type="number" class="tip-amount w-full bg-gray-800/50 border border-gray-600 rounded-xl p-4 text-white text-lg text-center focus:outline-none focus:border-lumera-400 focus:ring-2 focus:ring-lumera-400/30" placeholder="5.0" min="0.1" step="0.1">
                        </div>
                        <div class="flex space-x-4">
                            <button class="tip-cancel flex-1 bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-xl font-semibold transition-all duration-200">Cancel</button>
                            <button class="tip-confirm flex-1 btn-primary px-6 py-3 rounded-xl font-semibold">Send Tip</button>
                        </div>
                    </div>
                `;
                return modal;
            }
            
            // Process tip transaction
            async processTip(amount) {
                this.showToast(`Processing tip of ${amount} LUME...`, "info");
                
                await this.delay(2000);
                
                this.showToast(`Successfully tipped ${amount} LUME! Transaction confirmed on blockchain`, "success", 5000);
            }
            
            // Load more posts
            loadMorePosts() {
                const button = document.getElementById('loadMoreBtn');
                button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Loading...';
                button.disabled = true;
                
                setTimeout(() => {
                    // Add more sample posts
                    const morePosts = [
                        {
                            author: "CryptoTrader",
                            address: "lumera1trader123456789",
                            content: "Market analysis: LUME token showing strong fundamentals with the AI integration features. The tokenomics model with deflationary mechanics is brilliant! 📈",
                            timestamp: "8h ago",
                            likes: 67,
                            shares: 19,
                            tips: 8,
                            reward: "6.7"
                        },
                        {
                            author: "BlockchainDev",
                            address: "lumera1dev987654321abc",
                            content: "The Cosmos SDK implementation in Lumera is impressive. Cross-chain compatibility opens so many doors for innovation. Building bridges to the future! 🌉",
                            timestamp: "10h ago",
                            likes: 43,
                            shares: 12,
                            tips: 5,
                            reward: "4.3"
                        }
                    ];
                    
                    morePosts.forEach(post => {
                        const postData = this.createPostData(post);
                        this.addPostToFeed(postData);
                    });
                    
                    button.innerHTML = '<i class="fas fa-arrow-down mr-2"></i>Load More Posts';
                    button.disabled = false;
                }, 1500);
            }
            
            // Handle wallet changes
            handleWalletChange() {
                if (this.connectedAccount) {
                    this.showToast("Wallet account changed. Please reconnect.", "info");
                    this.connectedAccount = null;
                    
                    // Reset UI
                    document.getElementById('walletStatus').classList.add('hidden');
                    const button = document.getElementById('connectWallet');
                    button.innerHTML = '<i class="fas fa-wallet mr-2"></i>Connect Keplr';
                    button.className = 'btn-primary px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 transform hover:scale-105 transition-all duration-200';
                }
            }
            
            // Network monitoring
            startNetworkMonitoring() {
                this.checkNetworkStatus();
                setInterval(() => this.checkNetworkStatus(), 30000);
            }
            
            async checkNetworkStatus() {
                try {
                    const response = await fetch(`${this.networkConfig.rpc}/status`, { 
                        method: 'GET',
                        timeout: 5000 
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        const blockHeight = data?.result?.sync_info?.latest_block_height || "Unknown";
                        
                        document.getElementById('networkStatus').className = 'w-3 h-3 bg-green-400 rounded-full network-pulse';
                        document.getElementById('blockHeight').textContent = `Block: ${blockHeight}`;
                    } else {
                        throw new Error('Network response not ok');
                    }
                } catch (error) {
                    console.warn('Network status check failed:', error);
                    document.getElementById('networkStatus').className = 'w-3 h-3 bg-red-400 rounded-full animate-pulse';
                    document.getElementById('blockHeight').textContent = 'Block: Offline';
                }
            }
            
            // Stats updater
            startStatsUpdater() {
                setInterval(() => {
                    this.updateStats();
                }, 10000);
            }
            
            updateStats() {
                // Simulate live stats updates
                const totalPosts = document.getElementById('totalPosts');
                const activeUsers = document.getElementById('activeUsers');
                const totalRewards = document.getElementById('totalRewards');
                
                if (Math.random() < 0.3) {
                    const current = parseInt(totalPosts.textContent.replace(',', ''));
                    totalPosts.textContent = (current + Math.floor(Math.random() * 3 + 1)).toLocaleString();
                }
                
                if (Math.random() < 0.2) {
                    const current = parseInt(activeUsers.textContent.replace(',', ''));
                    activeUsers.textContent = (current + Math.floor(Math.random() * 5 + 1)).toLocaleString();
                }
                
                if (Math.random() < 0.4) {
                    const current = parseInt(totalRewards.textContent.replace(',', ''));
                    totalRewards.textContent = (current + Math.floor(Math.random() * 10 + 1)).toLocaleString();
                }
            }
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            window.lumeraSocial = new LumeraSocial();
        });
        
        // Error handling
        window.addEventListener('error', (e) => {
            console.error('Application error:', e);
            if (window.lumeraSocial) {
                window.lumeraSocial.showToast('An unexpected error occurred. Please refresh the page.', 'error');
            }
        });
        
        // Performance monitoring
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            console.log(`Lumera Social loaded in ${loadTime.toFixed(2)}ms`);
        });
    </script>
</body>
</html>
